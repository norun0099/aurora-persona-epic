name: Memory Diagnostic Test

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Set up Git
        run: |
          git config --global user.name "Aurora Memory Bot"
          git config --global user.email "aurora@memory.local"

      - name: Show working directory and memory structure
        run: |
          echo "===== Current Working Directory ====="
          pwd
          echo "===== List of memory/technology ====="
          ls -laR memory/technology || echo "No memory/technology directory found"
          echo "===== List of memory (all) ====="
          ls -laR memory || echo "No memory directory found"

      - name: Git Status and Diff
        run: |
          echo "===== Git Status ====="
          git status

          echo "===== Git Diff ====="
          git diff

          echo "===== Git Diff --cached ====="
          git diff --cached
